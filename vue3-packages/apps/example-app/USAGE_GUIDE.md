# Vue3 低代码引擎示例应用 - 使用指南

本指南将帮助您快速上手 Vue3 低代码引擎示例应用，了解如何使用各项功能。

## 📚 目录

- [快速入门](#快速入门)
- [界面介绍](#界面介绍)
- [基础操作](#基础操作)
- [组件使用](#组件使用)
- [属性配置](#属性配置)
- [数据管理](#数据管理)
- [高级功能](#高级功能)
- [最佳实践](#最佳实践)
- [故障排除](#故障排除)

## 快速入门

### 第一次使用

1. **启动应用**

```bash
cd vue3-packages/apps/example-app
pnpm dev
```

2. **打开浏览器**

访问 http://localhost:3000

3. **开始设计**

您会看到一个三栏布局的编辑器：
- 左侧：组件库
- 中间：画布区域
- 右侧：属性面板

### 5 分钟快速体验

1. **添加一个按钮**
   - 从左侧"基础组件"中找到"按钮"
   - 拖拽到中间画布

2. **配置按钮**
   - 点击画布中的按钮
   - 在右侧属性面板中修改按钮文字
   - 更改按钮类型为"success"

3. **添加一个输入框**
   - 从左侧"表单组件"中找到"输入框"
   - 拖拽到画布
   - 在属性面板中设置占位符文本

4. **保存设计**
   - 点击顶部工具栏的"保存"按钮

5. **预览页面**
   - 点击顶部工具栏的"预览"按钮

## 界面介绍

### 顶部工具栏

工具栏包含以下功能按钮：

| 按钮 | 功能 | 快捷键 |
|------|------|--------|
| 撤销 | 撤销上一步操作 | Ctrl+Z |
| 重做 | 重做已撤销的操作 | Ctrl+Y |
| 保存 | 保存到本地存储 | Ctrl+S |
| 加载 | 从本地存储加载 | Ctrl+O |
| 导出 | 导出为 JSON 文件 | Ctrl+E |
| 导入 | 从 JSON 文件导入 | Ctrl+I |
| 预览 | 预览页面效果 | Ctrl+P |
| 清空 | 清空画布 | Ctrl+D |

### 左侧组件面板

组件面板按类别组织，包含：

- **基础组件**：按钮、链接、文本、图标
- **表单组件**：输入框、选择器、开关、滑块等
- **数据展示**：表格、标签、进度条、树形控件等
- **反馈组件**：警告、消息、对话框、抽屉等
- **布局组件**：容器、行、列、卡片、标签页等

### 中间画布区域

画布区域是主要的编辑区域：

- **空状态**：显示提示信息，引导用户拖拽组件
- **组件树**：以树形结构展示所有组件
- **选中状态**：选中的组件会高亮显示
- **操作按钮**：选中组件后显示上移、下移、删除按钮

### 右侧属性面板

属性面板包含三个配置区域：

1. **基础信息**：组件 ID、名称、显示名称
2. **属性配置**：组件的属性值
3. **样式配置**：组件的 CSS 样式
4. **事件配置**：组件的事件处理函数

## 基础操作

### 拖拽添加组件

**步骤：**

1. 在左侧组件面板中找到需要的组件
2. 按住鼠标左键
3. 拖拽到中间画布区域
4. 松开鼠标

**提示：**
- 组件可以拖拽到画布的任意位置
- 拖拽时会有视觉反馈
- 松开鼠标后组件会自动添加到画布

### 选择组件

**步骤：**

1. 在画布区域点击任意组件
2. 组件会被高亮显示
3. 右侧属性面板会显示该组件的配置

**提示：**
- 点击画布空白处会取消选择
- 只能选择一个组件
- 选中组件后可以查看和修改其属性

### 移动组件

**步骤：**

1. 选中需要移动的组件
2. 点击组件上方的"上移"或"下移"按钮
3. 组件会移动到新位置

**提示：**
- 上移按钮会将组件向上移动一个位置
- 下移按钮会将组件向下移动一个位置
- 移动操作会自动保存到历史记录

### 删除组件

**步骤：**

1. 选中需要删除的组件
2. 点击组件上方的"删除"按钮
3. 确认删除操作

**提示：**
- 删除操作会弹出确认对话框
- 删除后无法恢复（除非使用撤销）
- 删除组件会同时删除其所有子组件

## 组件使用

### 基础组件

#### 按钮

**用途**：触发操作或提交表单

**常用属性：**
- `type`：按钮类型（primary、success、warning、danger、info、text）
- `size`：按钮尺寸（large、default、small）
- `disabled`：是否禁用
- `loading`：是否加载中
- `icon`：按钮图标

**示例：**
```json
{
  "componentName": "ElButton",
  "props": {
    "type": "primary",
    "size": "large",
    "disabled": false
  }
}
```

#### 文本

**用途**：显示文本内容

**常用属性：**
- `type`：文本类型（primary、success、warning、danger、info）
- `size`：文本尺寸（large、default、small）
- `tag`：是否为标签样式

**示例：**
```json
{
  "componentName": "ElText",
  "props": {
    "type": "primary",
    "size": "large"
  }
}
```

### 表单组件

#### 输入框

**用途**：接收用户输入

**常用属性：**
- `placeholder`：占位符文本
- `clearable`：是否可清空
- `disabled`：是否禁用
- `type`：输入类型（text、password、number等）

**示例：**
```json
{
  "componentName": "ElInput",
  "props": {
    "placeholder": "请输入用户名",
    "clearable": true,
    "type": "text"
  }
}
```

#### 选择器

**用途**：从选项中选择一个值

**常用属性：**
- `placeholder`：占位符文本
- `clearable`：是否可清空
- `disabled`：是否禁用
- `multiple`：是否多选

**示例：**
```json
{
  "componentName": "ElSelect",
  "props": {
    "placeholder": "请选择",
    "clearable": true,
    "multiple": false
  }
}
```

#### 开关

**用途**：切换开关状态

**常用属性：**
- `activeText`：打开时的文字
- `inactiveText`：关闭时的文字
- `disabled`：是否禁用

**示例：**
```json
{
  "componentName": "ElSwitch",
  "props": {
    "activeText": "开",
    "inactiveText": "关",
    "disabled": false
  }
}
```

### 数据展示组件

#### 表格

**用途**：展示表格数据

**常用属性：**
- `border`：是否显示边框
- `stripe`：是否为斑马纹
- `data`：表格数据

**示例：**
```json
{
  "componentName": "ElTable",
  "props": {
    "border": true,
    "stripe": true
  }
}
```

#### 标签

**用途**：标记和分类

**常用属性：**
- `type`：标签类型（primary、success、warning、danger、info）
- `size`：标签尺寸（large、default、small）
- `effect`：主题（dark、light、plain）

**示例：**
```json
{
  "componentName": "ElTag",
  "props": {
    "type": "success",
    "size": "default",
    "effect": "light"
  }
}
```

### 反馈组件

#### 警告

**用途**：显示警告信息

**常用属性：**
- `title`：标题
- `type`：类型（success、warning、info、error）
- `description`：辅助性文字
- `closable`：是否可关闭

**示例：**
```json
{
  "componentName": "ElAlert",
  "props": {
    "title": "提示信息",
    "type": "info",
    "closable": true
  }
}
```

#### 对话框

**用途**：在保留当前页面状态的情况下，展示信息

**常用属性：**
- `title`：标题
- `width`：宽度
- `fullscreen`：是否全屏
- `modal`：是否需要遮罩层

**示例：**
```json
{
  "componentName": "ElDialog",
  "props": {
    "title": "对话框",
    "width": "50%",
    "modal": true
  }
}
```

### 布局组件

#### 容器

**用途**：外层容器

**常用属性：**
- `direction`：子元素的排列方向（horizontal、vertical）

**示例：**
```json
{
  "componentName": "ElContainer",
  "props": {
    "direction": "vertical"
  }
}
```

#### 卡片

**用途**：将内容聚合在卡片容器中

**常用属性：**
- `shadow`：设置阴影显示时机（always、hover、never）
- `body-style`：body 的样式

**示例：**
```json
{
  "componentName": "ElCard",
  "props": {
    "shadow": "hover"
  }
}
```

## 属性配置

### 基础信息配置

**显示名称**：组件在画布中显示的名称

- 选中组件后，在"基础信息"区域找到"显示名称"
- 输入新的名称
- 修改会实时反映在画布中

### 属性配置

#### 修改现有属性

1. 选中组件
2. 在"属性配置"区域找到需要修改的属性
3. 根据属性类型进行修改：
   - **字符串**：在文本框中输入新值
   - **数字**：在数字输入框中输入新值
   - **布尔**：切换开关状态
   - **数组**：从下拉列表中选择多个值
   - **对象**：在 JSON 编辑器中编辑

#### 添加自定义属性

1. 选中组件
2. 在"属性配置"区域找到"添加属性"部分
3. 输入属性名
4. 选择属性类型（字符串、数字、布尔、数组）
5. 点击"添加"按钮
6. 新属性会出现在属性列表中

**示例：**
```
属性名：customData
类型：对象
值：{"key": "value"}
```

### 样式配置

#### 常用样式属性

| 属性 | 说明 | 示例值 |
|------|------|--------|
| width | 宽度 | 100px, 50%, auto |
| height | 高度 | 100px, auto |
| padding | 内边距 | 10px, 10px 20px |
| margin | 外边距 | 10px, 10px 20px |
| backgroundColor | 背景色 | #409eff, rgb(64, 158, 255) |
| color | 文字颜色 | #333, rgb(51, 51, 51) |
| fontSize | 字体大小 | 14px, 1rem |
| borderRadius | 圆角 | 4px, 50% |
| border | 边框 | 1px solid #ddd |

#### 修改样式

1. 选中组件
2. 在"样式配置"区域找到需要修改的样式属性
3. 输入新的样式值
4. 修改会实时反映在画布中

**示例：**
```
宽度：100%
高度：50px
背景色：#f5f7fa
文字颜色：#303133
字体大小：14px
圆角：4px
```

### 事件配置

#### 支持的事件类型

| 事件名 | 触发时机 |
|--------|----------|
| click | 点击组件时 |
| dblclick | 双击组件时 |
| input | 输入框输入时 |
| change | 值改变时 |
| focus | 获得焦点时 |
| blur | 失去焦点时 |
| submit | 表单提交时 |
| reset | 表单重置时 |

#### 添加事件处理

1. 选中组件
2. 在"事件配置"区域找到"添加事件"部分
3. 从下拉列表中选择事件类型
4. 输入事件处理函数名称
5. 点击"添加"按钮
6. 新事件会出现在事件列表中

**示例：**
```
事件名：click
处理函数：handleButtonClick
```

## 数据管理

### 保存到本地存储

**步骤：**

1. 点击顶部工具栏的"保存"按钮
2. 系统会将当前方案保存到浏览器的 LocalStorage
3. 保存成功后会显示提示消息

**特点：**
- 数据保存在浏览器本地
- 刷新页面后数据仍然存在
- 清除浏览器数据会丢失保存的内容

### 从本地存储加载

**步骤：**

1. 点击顶部工具栏的"加载"按钮
2. 系统会从 LocalStorage 读取保存的方案
3. 加载成功后会显示提示消息
4. 画布会更新为加载的方案

**特点：**
- 只能加载之前保存的方案
- 加载会覆盖当前画布内容
- 加载操作会保存到历史记录

### 导出为 JSON 文件

**步骤：**

1. 点击顶部工具栏的"导出"按钮
2. 浏览器会自动下载 JSON 文件
3. 文件名为 `lowcode-schema.json`
4. 导出成功后会显示提示消息

**用途：**
- 备份设计方案
- 分享给团队成员
- 在不同设备间同步

### 从 JSON 文件导入

**步骤：**

1. 点击顶部工具栏的"导入"按钮
2. 在文件选择器中选择之前导出的 JSON 文件
3. 系统会解析文件内容并加载到画布
4. 导入成功后会显示提示消息

**注意事项：**
- 只能导入有效的 JSON 文件
- 导入会覆盖当前画布内容
- 导入操作会保存到历史记录

### 撤销和重做

#### 撤销操作

**方法：**
- 点击工具栏的"撤销"按钮
- 使用快捷键 Ctrl+Z

**说明：**
- 每次撤销会回退到上一个状态
- 撤销历史最多保存 50 步
- 无法撤销到初始状态之前

#### 重做操作

**方法：**
- 点击工具栏的"重做"按钮
- 使用快捷键 Ctrl+Y

**说明：**
- 每次重做会前进到下一个状态
- 只有在撤销后才能重做
- 重做历史与撤销历史同步

### 清空画布

**步骤：**

1. 点击顶部工具栏的"清空"按钮
2. 系统会弹出确认对话框
3. 点击"确定"按钮确认清空
4. 画布会被清空，所有组件会被删除

**注意事项：**
- 清空操作无法恢复（除非使用撤销）
- 清空后会重置为初始状态
- 历史记录会被清空

## 高级功能

### 组件嵌套

某些组件支持嵌套其他组件，例如：

- **容器**：可以包含任意组件
- **卡片**：可以包含任意组件
- **表单**：可以包含表单项
- **折叠面板**：可以包含折叠项

**步骤：**

1. 先添加容器类组件
2. 选中容器组件
3. 将其他组件拖拽到容器的子节点区域

### 组件复制

**步骤：**

1. 选中需要复制的组件
2. 在右侧属性面板底部点击"复制组件"按钮
3. 组件会被复制并添加到画布

**特点：**
- 复制的组件会获得新的 ID
- 所有属性和样式都会被复制
- 子组件也会被复制

### 画布缩放

**步骤：**

1. 在画布顶部找到缩放控制
2. 点击"放大"或"缩小"按钮
3. 点击"重置"按钮恢复默认缩放

**缩放范围：** 50% - 200%

### 实时预览

**步骤：**

1. 点击顶部工具栏的"预览"按钮
2. 系统会在新窗口中打开预览页面
3. 预览页面会渲染所有组件
4. 点击"关闭"按钮返回编辑器

**特点：**
- 预览页面显示最终效果
- 不包含编辑器界面元素
- 可以测试组件交互

## 最佳实践

### 设计原则

1. **从简单开始**
   - 先添加主要组件
   - 逐步完善细节
   - 频繁保存

2. **合理组织结构**
   - 使用容器组件组织布局
   - 保持组件层级清晰
   - 避免过深的嵌套

3. **善用样式配置**
   - 使用统一的颜色方案
   - 保持一致的间距
   - 响应式设计考虑

### 性能优化

1. **避免过多组件**
   - 合理使用容器组件
   - 避免不必要的嵌套
   - 及时删除无用组件

2. **善用历史记录**
   - 不要过度依赖撤销
   - 定期保存重要状态
   - 导出备份重要设计

3. **预览测试**
   - 频繁预览效果
   - 测试组件交互
   - 检查响应式表现

### 团队协作

1. **使用导出/导入**
   - 导出设计方案分享
   - 导入他人设计参考
   - 保持版本同步

2. **统一命名规范**
   - 组件命名清晰
   - 事件处理函数命名规范
   - 样式类名统一

3. **文档记录**
   - 记录设计决策
   - 注释复杂逻辑
   - 维护设计规范

## 故障排除

### 常见问题

#### 问题 1：组件拖拽不工作

**可能原因：**
- 浏览器不支持 HTML5 拖拽 API
- JavaScript 错误阻止了拖拽

**解决方案：**
1. 检查浏览器控制台是否有错误
2. 尝试使用现代浏览器（Chrome、Firefox、Edge）
3. 刷新页面重试

#### 问题 2：属性修改不生效

**可能原因：**
- 属性值格式不正确
- 组件不支持该属性

**解决方案：**
1. 检查属性值格式是否正确
2. 查看组件文档确认支持的属性
3. 尝试使用默认值

#### 问题 3：预览功能不显示

**可能原因：**
- Schema 数据格式错误
- 组件未正确注册

**解决方案：**
1. 检查 Schema 数据是否为有效的 JSON
2. 确认组件在 SchemaRenderer 中已注册
3. 查看浏览器控制台错误信息

#### 问题 4：保存后刷新页面数据丢失

**可能原因：**
- LocalStorage 被清除
- 浏览器隐私模式

**解决方案：**
1. 使用导出功能备份设计
2. 检查浏览器 LocalStorage 设置
3. 避免使用隐私模式

#### 问题 5：导入 JSON 文件失败

**可能原因：**
- JSON 文件格式错误
- 文件内容不完整

**解决方案：**
1. 使用文本编辑器打开 JSON 文件
2. 检查 JSON 格式是否正确
3. 确认文件内容完整

### 获取帮助

如果遇到其他问题：

1. **查看文档**
   - 阅读项目 README.md
   - 查看 API 文档
   - 参考示例代码

2. **搜索问题**
   - 在 GitHub Issues 中搜索
   - 查看是否有类似问题
   - 参考解决方案

3. **提交问题**
   - 在 GitHub 创建 Issue
   - 提供详细的错误信息
   - 附上复现步骤

## 总结

本使用指南涵盖了 Vue3 低代码引擎示例应用的主要功能和使用方法。通过学习本指南，您应该能够：

- ✅ 熟悉编辑器界面
- ✅ 掌握基础操作
- ✅ 使用各类组件
- ✅ 配置组件属性和样式
- ✅ 管理设计方案
- ✅ 解决常见问题

祝您使用愉快！
